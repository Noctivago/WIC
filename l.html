<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>F_100()</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript">
            function f_100() {
                //dados a enviar, vai buscar os valores dos campos que queremos enviar para a BD

                alert("ENTREU");
                var dadosajax = {
                    'username': $("#username").val(),
                    'password': $("#password").val(),
                    'email': $("#email").val()
                };

                pageurl = '100.php';
                //para consultar mais opcoes possiveis numa chamada ajax
                //http://api.jquery.com/jQuery.ajax/
                $.ajax({
                    //url da pagina
                    url: pageurl,
                    //parametros a passar
                    data: dadosajax,
                    //tipo: POST ou GET
                    type: 'POST',
                    //cache
                    cache: false,
                    //se ocorrer um erro na chamada ajax, retorna este alerta
                    //possiveis erros: pagina nao existe, erro de codigo na pagina, falha de comunicacao/internet, etc etc etc
                    error: function () {
                        alert('Erro: Inserir Registo!!');
                    },
                    //retorna o resultado da pagina para onde enviamos os dados
                    success: function (result)
                    {
                        //se foi inserido com sucesso
                        if ($.trim(result) === '1')
                        {
                            alert("O seu registo foi inserido com sucesso!");
                        }
                        //se foi um erro
                        else
                        {
                            alert("Ocorreu um erro ao inserir o seu registo!");
                        }

                    }
                });
            }

        </script>
    </head>
    <body>
        <div>
            <form method="post">
                Username: <input type="text" name="username"><br>
                Password: <input type="password" name="password"><br>
                E-mail: <input type="email" name="email"><br>
                <button type="submit" onclick="f_100()">Gravar</button>
            </form>
        </div>
    </body>
</html>
